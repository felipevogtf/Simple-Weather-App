"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3080],{3080:($,p,i)=>{i.r(p),i.d(p,{WeatherModule:()=>X});var y=i(6895),s=i(8256),x=i(4482),m=i(5403),A=i(4671),b=i(9751),C=i(727);class E extends C.w0{constructor(t,e){super()}schedule(t,e=0){return this}}const h={setInterval(r,t,...e){const{delegate:n}=h;return null!=n&&n.setInterval?n.setInterval(r,t,...e):setInterval(r,t,...e)},clearInterval(r){const{delegate:t}=h;return((null==t?void 0:t.clearInterval)||clearInterval)(r)},delegate:void 0};var F=i(8737);const I={now:()=>(I.delegate||Date).now(),delegate:void 0};class a{constructor(t,e=a.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}}a.now=I.now;const M=new class D extends a{constructor(t,e=a.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}(class z extends E{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;const c=this.id,o=this.scheduler;return null!=c&&(this.id=this.recycleAsyncId(o,c,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,n=0){return h.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&h.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let c,n=!1;try{this.work(t)}catch(o){n=!0,c=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,F.P)(n,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}});var N=i(3532);var Y=i(8421),j=i(262),B=i(2843);let G=(()=>{class r{constructor(){}handleError(e){return 0===e.status?console.error("An error occurred:",e.error):console.error(`Backend returned code ${e.status}, body was: `,e.error),(0,B._)(()=>new Error("Something bad happened; please try again later."))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var J=i(529);let K=(()=>{class r{constructor(e,n){this.errorService=e,this.http=n}getWeather(){return this.http.get("https://api.weatherapi.com/v1/current.json?key=f0f687d1c768481ba33155523232202&q=Temuco&aqi=no").pipe(function Z(r=1/0){let t;t=r&&"object"==typeof r?r:{count:r};const{count:e=1/0,delay:n,resetOnSuccess:c=!1}=t;return e<=0?A.y:(0,x.e)((o,l)=>{let u,f=0;const v=()=>{let w=!1;u=o.subscribe((0,m.x)(l,d=>{c&&(f=0),l.next(d)},void 0,d=>{if(f++<e){const S=()=>{u?(u.unsubscribe(),u=null,v()):w=!0};if(null!=n){const Q="number"==typeof n?function T(r=0,t,e=M){let n=-1;return null!=t&&((0,N.K)(t)?e=t:n=t),new b.y(c=>{let o=function P(r){return r instanceof Date&&!isNaN(r)}(r)?+r-e.now():r;o<0&&(o=0);let l=0;return e.schedule(function(){c.closed||(c.next(l++),0<=n?this.schedule(void 0,n):c.complete())},o)})}(n):(0,Y.Xf)(n(d,f)),W=(0,m.x)(l,()=>{W.unsubscribe(),S()},()=>{l.complete()});Q.subscribe(W)}else S()}else l.error(d)})),w&&(u.unsubscribe(),u=null,v())};v()})}(3),(0,j.K)(this.errorService.handleError))}}return r.\u0275fac=function(e){return new(e||r)(s.LFG(G),s.LFG(J.eN))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var g=i(4445);function L(r,t){if(1&r&&(s.TgZ(0,"h1"),s._uU(1),s.qZA()),2&r){const e=s.oxw();s.xp6(1),s.Oqu(e.currentWeather.current.temp_c)}}let R=(()=>{class r{constructor(e){this.weatherService=e}ngOnInit(){this.weatherService.getWeather().subscribe(e=>{this.currentWeather=e})}}return r.\u0275fac=function(e){return new(e||r)(s.Y36(K))},r.\u0275cmp=s.Xpm({type:r,selectors:[["app-current-weather"]],decls:2,vars:1,consts:[[1,"ion-padding"],[4,"ngIf"]],template:function(e,n){1&e&&(s.TgZ(0,"ion-content",0),s.YNc(1,L,2,1,"h1",1),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngIf",n.currentWeather))},dependencies:[g.W2,y.O5]}),r})();var U=i(343);const V=[{path:"",component:R}];let X=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[g.Pc,U.Bz.forChild(V),y.ez]}),r})()}}]);